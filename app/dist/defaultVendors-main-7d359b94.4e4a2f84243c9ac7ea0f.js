(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{105:function(e,n){var t,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var a,c=[],f=!1,l=-1;function d(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(d);f=!0;for(var n=c.length;n;){for(a=c,c=[];++l<n;)a&&a[l].run();l=-1,n=c.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function y(){}i.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];c.push(new p(e,n)),1!==c.length||f||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},106:function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),i[n]=e>>>((3&n)<<3)&255;return i}}},107:function(e,n){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},108:function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),i[n]=e>>>((3&n)<<3)&255;return i}}},109:function(e,n){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},11:function(e,n,t){"use strict";(function(n){var t,r,i=n.MutationObserver||n.WebKitMutationObserver;if(i){var o=0,u=new i(f),s=n.document.createTextNode("");u.observe(s,{characterData:!0}),t=function(){s.data=o=++o%2}}else if(n.setImmediate||void 0===n.MessageChannel)t="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var e=n.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},n.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var a=new n.MessageChannel;a.port1.onmessage=f,t=function(){a.port2.postMessage(0)}}var c=[];function f(){var e,n;r=!0;for(var t=c.length;t;){for(n=c,c=[],e=-1;++e<t;)n[e]();t=c.length}r=!1}e.exports=function(e){1!==c.push(e)||r||t()}}).call(this,t(29))},121:function(e,n,t){"use strict";var r=t(3),i=t.n(r);function o(e,n,t){Error.call(this,t),this.status=e,this.name=n,this.message=t,this.error=!0}i()(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new o(401,"unauthorized","Name or password is incorrect."),new o(400,"bad_request","Missing JSON list of 'docs'"),new o(404,"not_found","missing"),new o(409,"conflict","Document update conflict"),new o(400,"bad_request","_id field must contain a string"),new o(412,"missing_id","_id is required for puts"),new o(400,"bad_request","Only reserved document ids may start with underscore."),new o(412,"precondition_failed","Database not open");var u=new o(500,"unknown_error","Database encountered an unknown error");new o(500,"badarg","Some query argument is invalid"),new o(400,"invalid_request","Request was invalid"),new o(400,"query_parse_error","Some query parameter is invalid"),new o(500,"doc_validation","Bad special document member"),new o(400,"bad_request","Something wrong with the request"),new o(400,"bad_request","Document must be a JSON object"),new o(404,"not_found","Database not found"),new o(500,"indexed_db_went_bad","unknown"),new o(500,"web_sql_went_bad","unknown"),new o(500,"levelDB_went_went_bad","unknown"),new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),new o(400,"bad_request","Invalid rev format"),new o(412,"file_exists","The database could not be created, the file already exists."),new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),new o(413,"invalid_url","Provided URL is invalid");function s(e){if("object"!=typeof e){var n=e;(e=u).data=n}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}"undefined"!=typeof AbortController&&AbortController,fetch;var a,c,f=Headers;function l(e){return"$"+e}function d(e){return e.substring(1)}function h(){this._store={}}function p(e){if(this._store=new h,e&&Array.isArray(e))for(var n=0,t=e.length;n<t;n++)this.add(e[n])}h.prototype.get=function(e){var n=l(e);return this._store[n]},h.prototype.set=function(e,n){var t=l(e);return this._store[t]=n,!0},h.prototype.has=function(e){return l(e)in this._store},h.prototype.delete=function(e){var n=l(e),t=n in this._store;return delete this._store[n],t},h.prototype.forEach=function(e){for(var n=Object.keys(this._store),t=0,r=n.length;t<r;t++){var i=n[t];e(this._store[i],i=d(i))}},Object.defineProperty(h.prototype,"size",{get:function(){return Object.keys(this._store).length}}),p.prototype.add=function(e){return this._store.set(e,!0)},p.prototype.has=function(e){return this._store.has(e)},p.prototype.forEach=function(e){this._store.forEach((function(n,t){e(t)}))},Object.defineProperty(p.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(a=p,c=h):(a=Set,c=Map);var y=t(47);function v(e,n){if(e===n)return 0;e=g(e),n=g(n);var t=k(e),r=k(n);if(t-r!=0)return t-r;switch(typeof e){case"number":return e-n;case"boolean":return e<n?-1:1;case"string":return function(e,n){return e===n?0:e>n?1:-1}(e,n)}return Array.isArray(e)?function(e,n){for(var t=Math.min(e.length,n.length),r=0;r<t;r++){var i=v(e[r],n[r]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}(e,n):function(e,n){for(var t=Object.keys(e),r=Object.keys(n),i=Math.min(t.length,r.length),o=0;o<i;o++){var u=v(t[o],r[o]);if(0!==u)return u;if(0!==(u=v(e[t[o]],n[r[o]])))return u}return t.length===r.length?0:t.length>r.length?1:-1}(e,n)}function g(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var t=e.length;e=new Array(t);for(var r=0;r<t;r++)e[r]=g(n[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},n)if(n.hasOwnProperty(i)){var o=n[i];void 0!==o&&(e[i]=g(o))}}}return e}function m(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var n=e.toExponential().split(/e\+?/),t=parseInt(n[1],10),r=e<0,i=r?"0":"2",o=(u=((r?-t:t)- -324).toString(),s="0",a=3,function(e,n,t){for(var r="",i=t-e.length;r.length<i;)r+=n;return r}(u,s,a)+u);var u,s,a;i+=""+o;var c=Math.abs(parseFloat(n[0]));r&&(c=10-c);var f=c.toFixed(20);return f=f.replace(/\.?0+$/,""),i+=""+f}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),t=n?e:Object.keys(e),r=-1,i=t.length,o="";if(n)for(;++r<i;)o+=b(t[r]);else for(;++r<i;){var u=t[r];o+=b(u)+b(e[u])}return o}return""}function b(e){return k(e=g(e))+""+m(e)+"\0"}function w(e,n){var t,r=n;if("1"===e[n])t=0,n++;else{var i="0"===e[n];n++;var o="",u=e.substring(n,n+3),s=parseInt(u,10)+-324;for(i&&(s=-s),n+=3;;){var a=e[n];if("\0"===a)break;o+=a,n++}t=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(t-=10),0!==s&&(t=parseFloat(t+"e"+s))}return{num:t,length:n-r}}function _(e,n){var t=e.pop();if(n.length){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(t);else if(o===e.length-2){i[e.pop()]=t}else e.push(t)}}function k(e){var n=["boolean","number","string","object"].indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}var $=t(14),x=t.n($),O=t(11),A=t.n(O),j=t(4),E=t(80),q=t.n(E),S=t(36);function B(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var n=new ArrayBuffer(e.byteLength),t=new Uint8Array(n),r=new Uint8Array(e);return t.set(r),n}(e);var n=e.size,t=e.type;return"function"==typeof e.slice?e.slice(0,n,t):e.webkitSlice(0,n,t)}var M=Function.prototype.toString,C=M.call(Object);function T(e){var n,t,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(n=[],t=0,r=e.length;t<r;t++)n[t]=T(e[t]);return n}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return B(e);if(!function(e){var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=n.constructor;return"function"==typeof t&&t instanceof t&&M.call(t)==C}(e))return e;for(t in n={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=T(e[t]);void 0!==i&&(n[t]=i)}return n}function I(e){return x()((function(n){n=T(n);var t=this,r="function"==typeof n[n.length-1]&&n.pop(),i=new Promise((function(r,i){var o,u,s;try{var a=(u=function(e,n){e?i(e):r(n)},s=!1,x()((function(e){if(s)throw new Error("once called more than once");s=!0,u.apply(this,e)})));n.push(a),(o=e.apply(t,n))&&"function"==typeof o.then&&r(o)}catch(e){i(e)}}));return r&&i.then((function(e){r(null,e)}),r),i}))}function N(e,n){for(var t={},r=0,i=n.length;r<i;r++){var o=n[r];o in e&&(t[o]=e[o])}return t}var P;try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function U(){return P}function D(){var e;j.EventEmitter.call(this),this._listeners={},e=this,U()&&addEventListener("storage",(function(n){e.emit(n.key)}))}function F(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var n=Array.prototype.slice.call(arguments,1);console[e].apply(console,n)}}i()(D,j.EventEmitter),D.prototype.addListener=function(e,n,t,r){if(!this._listeners[n]){var i=this,o=!1;this._listeners[n]=u,this.on(e,u)}function u(){if(i._listeners[n])if(o)o="waiting";else{o=!0;var e=N(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);t.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===o&&A()(u),o=!1})).on("error",(function(){o=!1}))}}},D.prototype.removeListener=function(e,n){n in this._listeners&&(j.EventEmitter.prototype.removeListener.call(this,e,this._listeners[n]),delete this._listeners[n])},D.prototype.notifyLocalWindows=function(e){U()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},D.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var L="function"==typeof Object.assign?Object.assign:function(e){for(var n=Object(e),t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n};function J(e){for(var n=[],t=0,r=e.length;t<r;t++)n=n.concat(e[t]);return n}function R(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(F("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function V(e,n,t){return new Promise((function(r,i){e.get(n,(function(o,u){if(o){if(404!==o.status)return i(o);u={}}var s=u._rev,a=t(u);if(!a)return r({updated:!1,rev:s});a._id=n,a._rev=s,r(function(e,n,t){return e.put(n).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return V(e,n._id,t)}))}(e,a,t))}))}))}q.a.v4;function z(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,z)}catch(e){}}function K(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,K)}catch(e){}}function W(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,W)}catch(e){}}function X(e,n){return n&&e.then((function(e){A()((function(){n(null,e)}))}),(function(e){A()((function(){n(e)}))})),e}function G(e,n){return function(){var t=arguments,r=this;return e.add((function(){return n.apply(r,t)}))}}function Y(e){var n=new a(e),t=new Array(n.size),r=-1;return n.forEach((function(e){t[++r]=e})),t}function H(e){var n=new Array(e.size),t=-1;return e.forEach((function(e,r){n[++t]=r})),n}function Q(){this.promise=new Promise((function(e){e()}))}function Z(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function ee(e,n,t,r,i,o){var u,s=function(e,n){return Z(e)+Z(n)+"undefined"}(t,r);if(!i&&(u=e._cachedViews=e._cachedViews||{})[s])return u[s];var a=e.info().then((function(a){var c=a.db_name+"-mrview-"+(i?"temp":Object(S.a)(s));return V(e,"_local/"+o,(function(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[c])return r[c]=!0,e})).then((function(){return e.registerDependentDatabase(c).then((function(n){var i=n.db;i.auto_compaction=!0;var o={name:c,db:i,sourceDB:e,adapter:e.adapter,mapFun:t,reduceFun:r};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,u&&o.db.once("destroyed",(function(){delete u[s]})),o}))}))}))}));return u&&(u[s]=a),a}i()(z,Error),i()(K,Error),i()(W,Error),Q.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Q.prototype.finish=function(){return this.promise};var ne={},te=new Q;function re(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function ie(e,n){try{e.emit("error",n)}catch(e){F("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),F("error",n)}}var oe=function(e,n,t,r){function i(e,n,t){try{n(t)}catch(n){ie(e,n)}}function o(e,n,t,r,i){try{return{output:n(t,r,i)}}catch(n){return ie(e,n),{error:n}}}function u(e,n){var t=v(e.key,n.key);return 0!==t?t:v(e.value,n.value)}function l(e,n,t){return t=t||0,"number"==typeof n?e.slice(t,n+t):t>0?e.slice(t):e}function d(e){var n=e.value;return n&&"object"==typeof n&&n._id||e.id}function h(e){return function(n){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var n=e.doc&&e.doc._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];n[e].data=Object(y.a)(t.data,t.content_type)}))}))}(n),n}}function p(e,n,t,r){var i=n[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),t.push(e+"="+i))}function m(e){if(void 0!==e){var n=Number(e);return isNaN(n)||n!==parseInt(e,10)?e:n}}function k(e,n){var t=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[t]&&void 0!==e[r]&&v(e[t],e[r])>0)throw new z("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(n.reduce&&!1!==e.reduce){if(e.include_docs)throw new z("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new z("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(n){var t=function(e){if(e){if("number"!=typeof e)return new z('Invalid value for integer: "'+e+'"');if(e<0)return new z('Invalid value for positive integer: "'+e+'"')}}(e[n]);if(t)throw t}))}function $(e){return function(n){if(404===n.status)return e;throw n}}function O(e,n,t){var r="_local/doc_"+e,i={_id:r,keys:[]},o=t.get(e),u=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(i):n.db.get(r).catch($(i))).then((function(e){return function(e){return e.keys.length?n.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(n){return function(e,n){for(var t=[],r=new a,i=0,o=n.rows.length;i<o;i++){var s=n.rows[i].doc;if(s&&(t.push(s),r.add(s._id),s._deleted=!u.has(s._id),!s._deleted)){var c=u.get(s._id);"value"in c&&(s.value=c.value)}}var f=H(u);return f.forEach((function(e){if(!r.has(e)){var n={_id:e},i=u.get(e);"value"in i&&(n.value=i.value),t.push(n)}})),e.keys=Y(f.concat(e.keys)),t.push(e),t}(e,n)}))}))}function j(e){var n="string"==typeof e?e:e.name,t=ne[n];return t||(t=ne[n]=new Q),t}function E(e){return G(j(e),(function(){return function(e){var t,r;var o=n(e.mapFun,(function(e,n){var i={id:r._id,key:g(e)};null!=n&&(i.value=g(n)),t.push(i)})),s=e.seq||0;function a(n,t){return function(){return function(e,n,t){return e.db.get("_local/lastSeq").catch($({_id:"_local/lastSeq",seq:0})).then((function(r){var i=H(n);return Promise.all(i.map((function(t){return O(t,e,n)}))).then((function(n){var i=J(n);return r.seq=t,i.push(r),e.db.bulkDocs({docs:i})}))}))}(e,n,t)}}var f=new Q;function l(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:50}).then(d)}function d(n){var d=n.results;if(d.length){var p=function(n){for(var a=new c,f=0,l=n.length;f<l;f++){var d=n[f];if("_"!==d.doc._id[0]){t=[],(r=d.doc)._deleted||i(e.sourceDB,o,r),t.sort(u);var p=h(t);a.set(d.doc._id,[p,d.changes])}s=d.seq}return a}(d);if(f.add(a(p,s)),!(d.length<50))return l()}}function h(e){for(var n,t=new c,r=0,i=e.length;r<i;r++){var o=e[r],u=[o.key,o.id];r>0&&0===v(o.key,n)&&u.push(r),t.set(b(u),o),n=o.key}return t}return l().then((function(){return f.finish()})).then((function(){e.seq=s}))}(e)}))()}function q(e,n){return G(j(e),(function(){return function(e,n){var r,i=e.reduceFun&&!1!==n.reduce,u=n.skip||0;void 0===n.keys||n.keys.length||(n.limit=0,delete n.keys);function s(n){return n.include_docs=!0,e.db.allDocs(n).then((function(e){return r=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var n=Object.keys(e.doc.value).sort(),t=["id","key","value"];if(!(n<t||n>t))return e.doc.value}var r=function(e){for(var n=[],t=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":n.push(null);break;case"2":n.push("1"===e[r]),r++;break;case"3":var o=w(e,r);n.push(o.num),r+=o.length;break;case"4":for(var u="";;){var s=e[r];if("\0"===s)break;u+=s,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),n.push(u);break;case"5":var a={element:[],index:n.length};n.push(a.element),t.push(a);break;case"6":var c={element:{},index:n.length};n.push(c.element),t.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===n.length)return n.pop();_(n,t)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function a(s){var a;if(a=i?function(e,n,r){0===r.group_level&&delete r.group_level;var i=r.group||r.group_level,u=t(e.reduceFun),s=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;n.forEach((function(e){var n=s[s.length-1],t=i?e.key:null;if(i&&Array.isArray(t)&&(t=t.slice(0,a)),n&&0===v(n.groupKey,t))return n.keys.push([e.key,e.id]),void n.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:t})})),n=[];for(var c=0,f=s.length;c<f;c++){var d=s[c],h=o(e.sourceDB,u,d.keys,d.values,!1);if(h.error&&h.error instanceof W)throw h.error;n.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:l(n,r.limit,r.skip)}}(e,s,n):{total_rows:r,offset:u,rows:s},n.update_seq&&(a.update_seq=e.seq),n.include_docs){var f=Y(s.map(d));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:n.conflicts,attachments:n.attachments,binary:n.binary}).then((function(e){var n=new c;return e.rows.forEach((function(e){n.set(e.id,e.doc)})),s.forEach((function(e){var t=d(e),r=n.get(t);r&&(e.doc=r)})),a}))}return a}if(void 0!==n.keys){var f=n.keys.map((function(e){var t={startkey:b([e]),endkey:b([e,{}])};return n.update_seq&&(t.update_seq=!0),s(t)}));return Promise.all(f).then(J).then(a)}var h,p,y={descending:n.descending};if(n.update_seq&&(y.update_seq=!0),"start_key"in n&&(h=n.start_key),"startkey"in n&&(h=n.startkey),"end_key"in n&&(p=n.end_key),"endkey"in n&&(p=n.endkey),void 0!==h&&(y.startkey=n.descending?b([h,{}]):b([h])),void 0!==p){var g=!1!==n.inclusive_end;n.descending&&(g=!g),y.endkey=b(g?[p,{}]:[p])}if(void 0!==n.key){var m=b([n.key]),k=b([n.key,{}]);y.descending?(y.endkey=m,y.startkey=k):(y.startkey=m,y.endkey=k)}return i||("number"==typeof n.limit&&(y.limit=n.limit),y.skip=u),s(y).then(a)}(e,n)}))()}function S(n,t,i){if("function"==typeof n._query)return function(e,n,t){return new Promise((function(r,i){e._query(n,t,(function(e,n){if(e)return i(e);r(n)}))}))}(n,t,i);if(R(n))return function(e,n,t){var r,i,o,u=[],a="GET";if(p("reduce",t,u),p("include_docs",t,u),p("attachments",t,u),p("limit",t,u),p("descending",t,u),p("group",t,u),p("group_level",t,u),p("skip",t,u),p("stale",t,u),p("conflicts",t,u),p("startkey",t,u,!0),p("start_key",t,u,!0),p("endkey",t,u,!0),p("end_key",t,u,!0),p("inclusive_end",t,u),p("key",t,u,!0),p("update_seq",t,u),u=""===(u=u.join("&"))?"":"?"+u,void 0!==t.keys){var c="keys="+encodeURIComponent(JSON.stringify(t.keys));c.length+u.length+1<=2e3?u+=("?"===u[0]?"&":"?")+c:(a="POST","string"==typeof n?r={keys:t.keys}:n.keys=t.keys)}if("string"==typeof n){var l=re(n);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+u,{headers:new f({"Content-Type":"application/json"}),method:a,body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,s(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(t))}return r=r||{},Object.keys(n).forEach((function(e){Array.isArray(n[e])?r[e]=n[e]:r[e]=n[e].toString()})),e.fetch("_temp_view"+u,{headers:new f({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,s(e);return e})).then(h(t))}(n,t,i);if("string"!=typeof t)return k(i,t),te.add((function(){return ee(n,"temp_view/temp_view",t.map,t.reduce,!0,e).then((function(e){return n=E(e).then((function(){return q(e,i)})),t=function(){return e.db.destroy()},n.then((function(e){return t().then((function(){return e}))}),(function(e){return t().then((function(){throw e}))}));var n,t}))})),te.finish();var o=t,u=re(o),a=u[0],c=u[1];return n.get("_design/"+a).then((function(t){var u=t.views&&t.views[c];if(!u)throw new K("ddoc "+t._id+" has no view named "+c);return r(t,c),k(i,u),ee(n,o,u.map,u.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&A()((function(){E(e)})),q(e,i)):E(e).then((function(){return q(e,i)}))}))}))}var B;return{query:function(e,n,t){var r=this;"function"==typeof n&&(t=n,n={}),n=n?function(e){return e.group_level=m(e.group_level),e.limit=m(e.limit),e.skip=m(e.skip),e}(n):{},"function"==typeof e&&(e={map:e});var i=Promise.resolve().then((function(){return S(r,e,n)}));return X(i,t),i},viewCleanup:(B=function(){var n=this;return"function"==typeof n._viewCleanup?function(e){return new Promise((function(n,t){e._viewCleanup((function(e,r){if(e)return t(e);n(r)}))}))}(n):R(n)?function(e){return e.fetch("_view_cleanup",{headers:new f({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(n):function(n){return n.get("_local/"+e).then((function(e){var t=new c;Object.keys(e.views).forEach((function(e){var n=re(e),r="_design/"+n[0],i=n[1],o=t.get(r);o||(o=new a,t.set(r,o)),o.add(i)}));var r={keys:H(t),include_docs:!0};return n.allDocs(r).then((function(r){var i={};r.rows.forEach((function(n){var r=n.key.substring(8);t.get(n.key).forEach((function(t){var o=r+"/"+t;e.views[o]||(o=t);var u=Object.keys(e.views[o]),s=n.doc&&n.doc.views&&n.doc.views[t];u.forEach((function(e){i[e]=i[e]||s}))}))}));var o=Object.keys(i).filter((function(e){return!i[e]})).map((function(e){return G(j(e),(function(){return new n.constructor(e,n.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),$({ok:!0}))}(n)},x()((function(e){var n=e.pop(),t=B.apply(this,e);return"function"==typeof n&&X(t,n),t})))}};function ue(e,n){for(var t=e,r=0,i=n.length;r<i;r++){if(!(t=t[n[r]]))break}return t}function se(e,n,t){for(var r=0,i=n.length;r<i-1;r++){var o=n[r];e=e[o]=e[o]||{}}e[n[i-1]]=t}function ae(e,n){return e<n?-1:e>n?1:0}function ce(e){for(var n=[],t="",r=0,i=e.length;r<i;r++){var o=e[r];"."===o?r>0&&"\\"===e[r-1]?t=t.substring(0,t.length-1)+".":(n.push(t),t=""):t+=o}return n.push(t),n}var fe=["$or","$nor","$not"];function le(e){return fe.indexOf(e)>-1}function de(e){return Object.keys(e)[0]}function he(e){return e[de(e)]}function pe(e){var n={};return e.forEach((function(e){Object.keys(e).forEach((function(t){var r=e[t];if("object"!=typeof r&&(r={$eq:r}),le(t))n[t]=r instanceof Array?r.map((function(e){return pe([e])})):pe([r]);else{var i=n[t]=n[t]||{};Object.keys(r).forEach((function(e){var n=r[e];return"$gt"===e||"$gte"===e?function(e,n,t){if(void 0!==t.$eq)return;void 0!==t.$gte?"$gte"===e?n>t.$gte&&(t.$gte=n):n>=t.$gte&&(delete t.$gte,t.$gt=n):void 0!==t.$gt?"$gte"===e?n>t.$gt&&(delete t.$gt,t.$gte=n):n>t.$gt&&(t.$gt=n):t[e]=n}(e,n,i):"$lt"===e||"$lte"===e?function(e,n,t){if(void 0!==t.$eq)return;void 0!==t.$lte?"$lte"===e?n<t.$lte&&(t.$lte=n):n<=t.$lte&&(delete t.$lte,t.$lt=n):void 0!==t.$lt?"$lte"===e?n<t.$lt&&(delete t.$lt,t.$lte=n):n<t.$lt&&(t.$lt=n):t[e]=n}(e,n,i):"$ne"===e?function(e,n){"$ne"in n?n.$ne.push(e):n.$ne=[e]}(n,i):"$eq"===e?function(e,n){delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,n.$eq=e}(n,i):void(i[e]=n)}))}}))})),n}function ye(e){var n=T(e),t=!1;(function e(n,t){for(var r in n){"$and"===r&&(t=!0);var i=n[r];"object"==typeof i&&(t=e(i,t))}return t})(n,!1)&&("$and"in(n=function e(n){for(var t in n){if(Array.isArray(n))for(var r in n)n[r].$and&&(n[r]=pe(n[r].$and));var i=n[t];"object"==typeof i&&e(i)}return n}(n))&&(n=pe(n.$and)),t=!0),["$or","$nor"].forEach((function(e){e in n&&n[e].forEach((function(e){for(var n=Object.keys(e),t=0;t<n.length;t++){var r=n[t],i=e[r];"object"==typeof i&&null!==i||(e[r]={$eq:i})}}))})),"$not"in n&&(n.$not=pe([n.$not]));for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i],u=n[o];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!t&&(u.$ne=[u.$ne]),n[o]=u}return n}function ve(e,n,t){if(e=e.filter((function(e){return ge(e.doc,n.selector,t)})),n.sort){var r=function(e){function n(n){return e.map((function(e){var t=ce(de(e));return ue(n,t)}))}return function(e,t){var r=v(n(e.doc),n(t.doc));return 0!==r?r:ae(e.doc._id,t.doc._id)}}(n.sort);e=e.sort(r),"string"!=typeof n.sort[0]&&"desc"===he(n.sort[0])&&(e=e.reverse())}if("limit"in n||"skip"in n){var i=n.skip||0,o=("limit"in n?n.limit:e.length)+i;e=e.slice(i,o)}return e}function ge(e,n,t){return t.every((function(t){var r=n[t],i=ce(t),o=ue(e,i);return le(t)?function(e,n,t){if("$or"===e)return n.some((function(e){return ge(t,e,Object.keys(e))}));if("$not"===e)return!ge(t,n,Object.keys(n));return!n.find((function(e){return ge(t,e,Object.keys(e))}))}(t,r,e):me(r,e,i,o)}))}function me(e,n,t,r){return!e||("object"==typeof e?Object.keys(e).every((function(i){var o=e[i];return function(e,n,t,r,i){if(!ke[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ke[e](n,t,r,i)}(i,n,o,t,r)})):e===r)}function be(e){return null!=e}function we(e){return void 0!==e}function _e(e,n){return n.some((function(n){return e instanceof Array?e.indexOf(n)>-1:e===n}))}var ke={$elemMatch:function(e,n,t,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some((function(e){return ge(e,n,Object.keys(n))})):r.some((function(r){return me(n,e,t,r)}))))},$allMatch:function(e,n,t,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every((function(e){return ge(e,n,Object.keys(n))})):r.every((function(r){return me(n,e,t,r)}))))},$eq:function(e,n,t,r){return we(r)&&0===v(r,n)},$gte:function(e,n,t,r){return we(r)&&v(r,n)>=0},$gt:function(e,n,t,r){return we(r)&&v(r,n)>0},$lte:function(e,n,t,r){return we(r)&&v(r,n)<=0},$lt:function(e,n,t,r){return we(r)&&v(r,n)<0},$exists:function(e,n,t,r){return n?we(r):!we(r)},$mod:function(e,n,t,r){return be(r)&&function(e,n){var t=n[0],r=n[1];if(0===t)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(t,10)!==t)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%t===r}(r,n)},$ne:function(e,n,t,r){return n.every((function(e){return 0!==v(r,e)}))},$in:function(e,n,t,r){return be(r)&&_e(r,n)},$nin:function(e,n,t,r){return be(r)&&!_e(r,n)},$size:function(e,n,t,r){return be(r)&&function(e,n){return e.length===n}(r,n)},$all:function(e,n,t,r){return Array.isArray(r)&&function(e,n){return n.every((function(n){return e.indexOf(n)>-1}))}(r,n)},$regex:function(e,n,t,r){return be(r)&&function(e,n){return new RegExp(n).test(e)}(r,n)},$type:function(e,n,t,r){return function(e,n){switch(n){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(n+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,n)}};function $e(e){return(e=T(e)).index||(e.index={}),["type","name","ddoc"].forEach((function(n){e.index[n]&&(e[n]=e.index[n],delete e.index[n])})),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function xe(e,n,t,r){var i,o;t.headers=new f({"Content-type":"application/json"}),e.fetch(n,t).then((function(e){return i=e.status,o=e.ok,e.json()})).then((function(e){if(o)r(null,e);else{e.status=i;var n=s(e);r(n)}})).catch(r)}function Oe(e,n,t){n=$e(n),xe(e,"_index",{method:"POST",body:JSON.stringify(n)},t)}function Ae(e,n,t){xe(e,"_find",{method:"POST",body:JSON.stringify(n)},t)}function je(e,n,t){xe(e,"_explain",{method:"POST",body:JSON.stringify(n)},t)}function Ee(e,n){xe(e,"_index",{method:"GET"},n)}function qe(e,n,t){var r=n.ddoc,i=n.type||"json",o=n.name;return r?o?void xe(e,"_index/"+[r,i,o].map(encodeURIComponent).join("/"),{method:"DELETE"},t):t(new Error("you must provide an index's name")):t(new Error("you must provide an index's ddoc"))}function Se(e){return function(){for(var n=arguments.length,t=new Array(n),r=-1;++r<n;)t[r]=arguments[r];return e.call(this,t)}}function Be(e){return Se((function(n){var t=n.pop(),r=e.apply(this,n);return function(e,n){e.then((function(e){A()((function(){n(null,e)}))}),(function(e){A()((function(){n(e)}))}))}(r,t),r}))}var Me=Se((function(e){for(var n=[],t=0,r=e.length;t<r;t++){var i=e[t];Array.isArray(i)?n=n.concat(Me.apply(null,i)):n.push(i)}return n}));function Ce(e){for(var n={},t=0,r=e.length;t<r;t++)n=L(n,e[t]);return n}function Te(e,n){for(var t=0,r=Math.min(e.length,n.length);t<r;t++)if(e[t]!==n[t])return!1;return!0}function Ie(e,n){if(e.length!==n.length)return!1;for(var t=0,r=e.length;t<r;t++)if(e[t]!==n[t])return!1;return!0}function Ne(e,n){var t=function(e){for(var n=0,t=e.length;n<t;n++){if(-1!==e[n].indexOf("."))return!1}return!0}(e),r=1===e.length;return t?r?function(e,n){return function(t){n(t[e])}}(e[0],n):function(e,n){return function(t){for(var r=[],i=0,o=e.length;i<o;i++)r.push(t[e[i]]);n(r)}}(e,n):r?function(e,n){var t=ce(e);return function(e){for(var r=e,i=0,o=t.length;i<o;i++){if(void 0===(r=r[t[i]]))return}n(r)}}(e[0],n):function(e,n){return function(t){for(var r=[],i=0,o=e.length;i<o;i++){for(var u=ce(e[i]),s=t,a=0,c=u.length;a<c;a++){if(void 0===(s=s[u[a]]))return}r.push(s)}n(r)}}(e,n)}var Pe=oe("indexes",(function(e,n){return Ne(Object.keys(e.fields),n)}),(function(){throw new Error("reduce not supported")}),(function(e,n){var t=e.views[n];if(!t.map||!t.map.fields)throw new Error("ddoc "+e._id+" with view "+n+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}));function Ue(e){return e._customFindAbstractMapper||Pe}function De(e){return e.fields=e.fields.map((function(e){if("string"==typeof e){var n={};return n[e]="asc",n}return e})),e}function Fe(e,n){for(var t=[],r=0;r<n.def.fields.length;r++){var i=de(n.def.fields[r]);t.push(e[i])}return t}function Le(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then((function(e){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=Me(n.indexes,e.rows.filter((function(e){return"query"===e.doc.language})).map((function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map((function(n){var t=e.doc.views[n];return{ddoc:e.id,name:n,type:"json",def:De(t.options.def)}}))}))),n.indexes.sort((function(e,n){return ae(e.name,n.name)})),n.total_rows=n.indexes.length,n}))}var Je={"￿":{}};function Re(e,n){for(var t=e.def.fields.map(de),r=0,i=t.length;r<i;r++){if(n===t[r])return!0}return!1}function Ve(e,n){return"$eq"!==de(e[n])}function ze(e,n){var t=n.def.fields.map(de);return e.slice().sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return-1===r&&(r=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),ae(r,i)}))}function Ke(e,n,t,r){var i=Me(e,function(e,n,t){for(var r=!1,i=0,o=(t=ze(t,e)).length;i<o;i++){var u=t[i];if(r||!Re(e,u))return t.slice(i);i<o-1&&Ve(n,u)&&(r=!0)}return[]}(n,t,r),function(e){var n=[];return Object.keys(e).forEach((function(t){var r=e[t];Object.keys(r).forEach((function(e){"$ne"===e&&n.push(t)}))})),n}(t));return ze(function(e){for(var n={},t=0;t<e.length;t++)n["$"+e[t]]=!0;return Object.keys(n).map((function(e){return e.substring(1)}))}(i),n)}function We(e,n,t){if(n){var r=(u=e,!((o=n).length>u.length)&&Te(o,u)),i=Te(t,e);return r&&i}var o,u;return function(e,n){e=e.slice();for(var t=0,r=n.length;t<r;t++){var i=n[t];if(!e.length)break;var o=e.indexOf(i);if(-1===o)return!1;e.splice(o,1)}return!0}(t,e)}var Xe=["$eq","$gt","$gte","$lt","$lte"];function Ge(e){return-1===Xe.indexOf(e)}function Ye(e,n,t,r){var i=e.def.fields.map(de);return!!We(i,n,t)&&function(e,n){var t=n[e[0]];return void 0===t||!(1===Object.keys(t).length&&"$ne"===de(t))}(i,r)}function He(e,n,t,r,i){var o=function(e,n,t,r){return r.reduce((function(r,i){return Ye(i,t,n,e)&&r.push(i),r}),[])}(e,n,t,r);if(0===o.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var u=r[0];return u.defaultUsed=!0,u}if(1===o.length&&!i)return o[0];var s=function(e){for(var n={},t=0,r=e.length;t<r;t++)n[e[t]]=!0;return n}(n);if(i){var a="_design/"+i[0],c=2===i.length&&i[1],f=o.find((function(e){return!(!c||e.ddoc!==a||c!==e.name)||e.ddoc===a}));if(!f)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return f}return function(e,n){for(var t=null,r=-1,i=0,o=e.length;i<o;i++){var u=e[i],s=n(u);s>r&&(r=s,t=u)}return t}(o,(function(e){for(var n=e.def.fields.map(de),t=0,r=0,i=n.length;r<i;r++){var o=n[r];s[o]&&t++}return t}))}function Qe(e,n){switch(e){case"$eq":return{startkey:n,endkey:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}}function Ze(e,n){return n.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===n.def.fields.length?function(e,n){var t,r=de(n.def.fields[0]),i=e[r]||{},o=[];return Object.keys(i).forEach((function(e){Ge(e)&&o.push(r);var n=function(e,n){switch(e){case"$eq":return{key:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}return{startkey:null}}(e,i[e]);t=t?Ce([t,n]):n})),{queryOpts:t,inMemoryFields:o}}(e,n):function(e,n){var t,r,i=n.def.fields.map(de),o=[],u=[],s=[];function a(e){!1!==t&&u.push(null),!1!==r&&s.push(Je),o=i.slice(e)}for(var c=0,f=i.length;c<f;c++){var l=e[i[c]];if(!l||!Object.keys(l).length){a(c);break}if(c>0){if(Object.keys(l).some(Ge)){a(c);break}var d="$gt"in l||"$gte"in l||"$lt"in l||"$lte"in l,h=Object.keys(e[i[c-1]]),p=Ie(h,["$eq"]),y=Ie(h,Object.keys(l));if(d&&!p&&!y){a(c);break}}for(var v=Object.keys(l),g=null,m=0;m<v.length;m++){var b=v[m],w=Qe(b,l[b]);g=g?Ce([g,w]):w}u.push("startkey"in g?g.startkey:null),s.push("endkey"in g?g.endkey:Je),"inclusive_start"in g&&(t=g.inclusive_start),"inclusive_end"in g&&(r=g.inclusive_end)}var _={startkey:u,endkey:s};return void 0!==t&&(_.inclusive_start=t),void 0!==r&&(_.inclusive_end=r),{queryOpts:_,inMemoryFields:o}}(e,n)}function en(e,n){var t=e.selector,r=function(e,n){var t,r=Object.keys(e),i=n?n.map(de):[];return t=r.length>=i.length?r:i,0===i.length?{fields:t}:{fields:t=t.sort((function(e,n){var t=i.indexOf(e);-1===t&&(t=Number.MAX_VALUE);var r=i.indexOf(n);return-1===r&&(r=Number.MAX_VALUE),t<r?-1:t>r?1:0})),sortOrder:n.map(de)}}(t,e.sort),i=r.fields,o=He(t,i,r.sortOrder,n,e.use_index),u=Ze(t,o);return{queryOpts:u.queryOpts,index:o,inMemoryFields:Ke(u.inMemoryFields,o,t,i)}}function nn(e,n,t){var r,i;return n.selector&&(n.selector=ye(n.selector)),n.sort&&(n.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map((function(e){if("string"==typeof e){var n={};return n[e]="asc",n}return e}))}(n.sort)),n.use_index&&(n.use_index=(r=n.use_index,i=[],"string"==typeof r?i.push(r):i=r,i.map((function(e){return e.replace("_design/","")})))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(n),Le(e).then((function(r){e.constructor.emit("debug",["find","planning query",n]);var i=en(n,r.indexes);e.constructor.emit("debug",["find","query plan",i]);var o=i.index;!function(e,n){if(n.defaultUsed&&e.sort){var t=e.sort.filter((function(e){return"_id"!==Object.keys(e)[0]})).map((function(e){return Object.keys(e)[0]}));if(t.length>0)throw new Error('Cannot sort on field(s) "'+t.join(",")+'" when using the default index')}n.defaultUsed}(n,o);var u=L({include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in u&&"endkey"in u&&v(u.startkey,u.endkey)>0?{docs:[]}:(n.sort&&"string"!=typeof n.sort[0]&&"desc"===he(n.sort[0])&&(u.descending=!0,u=function(e){var n=T(e);return delete n.startkey,delete n.endkey,delete n.inclusive_start,delete n.inclusive_end,"endkey"in e&&(n.startkey=e.endkey),"startkey"in e&&(n.endkey=e.startkey),"inclusive_start"in e&&(n.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(n.inclusive_start=e.inclusive_end),n}(u)),i.inMemoryFields.length||("limit"in n&&(u.limit=n.limit),"skip"in n&&(u.skip=n.skip)),t?Promise.resolve(i,u):Promise.resolve().then((function(){if("_all_docs"===o.name)return function(e,n){var t=T(n);return t.descending?("endkey"in t&&"string"!=typeof t.endkey&&(t.endkey=""),"startkey"in t&&"string"!=typeof t.startkey&&(t.limit=0)):("startkey"in t&&"string"!=typeof t.startkey&&(t.startkey=""),"endkey"in t&&"string"!=typeof t.endkey&&(t.limit=0)),"key"in t&&"string"!=typeof t.key&&(t.limit=0),e.allDocs(t).then((function(e){return e.rows=e.rows.filter((function(e){return!/^_design\//.test(e.id)})),e}))}(e,u);var n,t=(n=o).ddoc.substring(8)+"/"+n.name;return Ue(e).query.call(e,t,u)})).then((function(e){!1===u.inclusive_start&&(e.rows=function(e,n,t){for(var r=t.def.fields,i=0,o=e.length;i<o;i++){var u=Fe(e[i].doc,t);if(1===r.length)u=u[0];else for(;u.length>n.length;)u.pop();if(Math.abs(v(u,n))>0)break}return i>0?e.slice(i):e}(e.rows,u.startkey,o)),i.inMemoryFields.length&&(e.rows=ve(e.rows,n,i.inMemoryFields));var t={docs:e.rows.map((function(e){var t=e.doc;return n.fields?function(e,n){for(var t={},r=0,i=n.length;r<i;r++){var o=ce(n[r]),u=ue(e,o);void 0!==u&&se(t,o,u)}return t}(t,n.fields):t}))};return o.defaultUsed&&(t.warning="no matching index found, create an index to optimize query time"),t})))}))}var tn=Be((function(e,n){var t,r=T((n=$e(n)).index);function i(){return t||(t=Object(S.a)(JSON.stringify(n)))}n.index=De(n.index),function(e){var n=e.fields.filter((function(e){return"asc"===he(e)}));if(0!==n.length&&n.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(n.index);var o=n.name||"idx-"+i(),u=n.ddoc||"idx-"+i(),s="_design/"+u,a=!1,c=!1;return e.constructor.emit("debug",["find","creating index",s]),V(e,s,(function(e){return e._rev&&"query"!==e.language&&(a=!0),e.language="query",e.views=e.views||{},!(c=!!e.views[o])&&(e.views[o]={map:{fields:Ce(n.index.fields)},reduce:"_count",options:{def:r}},e)})).then((function(){if(a)throw new Error('invalid language for ddoc with id "'+s+'" (should be "query")')})).then((function(){var n=u+"/"+o;return Ue(e).query.call(e,n,{limit:0,reduce:!1}).then((function(){return{id:s,name:o,result:c?"exists":"created"}}))}))})),rn=Be(nn),on=Be((function(e,n){return nn(e,n,!0).then((function(t){return{dbname:e.name,index:t.index,selector:n.selector,range:{start_key:t.queryOpts.startkey,end_key:t.queryOpts.endkey},opts:{use_index:n.use_index||[],bookmark:"nil",limit:n.limit,skip:n.skip,sort:n.sort||{},fields:n.fields,conflicts:!1,r:[49]},limit:n.limit,skip:n.skip||0,fields:n.fields}}))})),un=Be(Le),sn=Be((function(e,n){if(!n.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!n.name)throw new Error("you must supply an index.name when deleting");var t=n.ddoc,r=n.name;return V(e,t,(function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:t,_deleted:!0}:(delete e.views[r],e)})).then((function(){return Ue(e).viewCleanup.apply(e)})).then((function(){return{ok:!0}}))})),an={};an.createIndex=I((function(e,n){if("object"!=typeof e)return n(new Error("you must provide an index to create"));(R(this)?Oe:tn)(this,e,n)})),an.find=I((function(e,n){if(void 0===n&&(n=e,e=void 0),"object"!=typeof e)return n(new Error("you must provide search parameters to find()"));(R(this)?Ae:rn)(this,e,n)})),an.explain=I((function(e,n){if(void 0===n&&(n=e,e=void 0),"object"!=typeof e)return n(new Error("you must provide search parameters to explain()"));(R(this)?je:on)(this,e,n)})),an.getIndexes=I((function(e){(R(this)?Ee:un)(this,e)})),an.deleteIndex=I((function(e,n){if("object"!=typeof e)return n(new Error("you must provide an index to delete"));(R(this)?qe:sn)(this,e,n)}));n.a=an},150:function(e,n,t){var r,i,o=t(106),u=t(107),s=0,a=0;e.exports=function(e,n,t){var c=n&&t||0,f=n||[],l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:a+1,v=p-s+(y-a)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,a=y,i=d;var g=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;f[c++]=g>>>24&255,f[c++]=g>>>16&255,f[c++]=g>>>8&255,f[c++]=255&g;var m=p/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=d>>>8|128,f[c++]=255&d;for(var b=0;b<6;++b)f[c+b]=l[b];return n||u(f)}},151:function(e,n,t){var r=t(106),i=t(107);e.exports=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var s=0;s<16;++s)n[o+s]=u[s];return n||i(u)}},152:function(e,n,t){var r,i,o=t(108),u=t(109),s=0,a=0;e.exports=function(e,n,t){var c=n&&t||0,f=n||[],l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:a+1,v=p-s+(y-a)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,a=y,i=d;var g=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;f[c++]=g>>>24&255,f[c++]=g>>>16&255,f[c++]=g>>>8&255,f[c++]=255&g;var m=p/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=d>>>8|128,f[c++]=255&d;for(var b=0;b<6;++b)f[c+b]=l[b];return n||u(f)}},153:function(e,n,t){var r=t(108),i=t(109);e.exports=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var s=0;s<16;++s)n[o+s]=u[s];return n||i(u)}},22:function(e,n,t){e.exports=function(e){"use strict";var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function t(e,n){var t=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&i|~r&o)+n[0]-680876936|0)<<7|t>>>25)+r|0)&r|~t&i)+n[1]-389564586|0)<<12|o>>>20)+t|0)&t|~o&r)+n[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&t)+n[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&i|~r&o)+n[4]-176418897|0)<<7|t>>>25)+r|0)&r|~t&i)+n[5]+1200080426|0)<<12|o>>>20)+t|0)&t|~o&r)+n[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&t)+n[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&i|~r&o)+n[8]+1770035416|0)<<7|t>>>25)+r|0)&r|~t&i)+n[9]-1958414417|0)<<12|o>>>20)+t|0)&t|~o&r)+n[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&t)+n[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&i|~r&o)+n[12]+1804603682|0)<<7|t>>>25)+r|0)&r|~t&i)+n[13]-40341101|0)<<12|o>>>20)+t|0)&t|~o&r)+n[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&t)+n[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&o|i&~o)+n[1]-165796510|0)<<5|t>>>27)+r|0)&i|r&~i)+n[6]-1069501632|0)<<9|o>>>23)+t|0)&r|t&~r)+n[11]+643717713|0)<<14|i>>>18)+o|0)&t|o&~t)+n[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&o|i&~o)+n[5]-701558691|0)<<5|t>>>27)+r|0)&i|r&~i)+n[10]+38016083|0)<<9|o>>>23)+t|0)&r|t&~r)+n[15]-660478335|0)<<14|i>>>18)+o|0)&t|o&~t)+n[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&o|i&~o)+n[9]+568446438|0)<<5|t>>>27)+r|0)&i|r&~i)+n[14]-1019803690|0)<<9|o>>>23)+t|0)&r|t&~r)+n[3]-187363961|0)<<14|i>>>18)+o|0)&t|o&~t)+n[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r&o|i&~o)+n[13]-1444681467|0)<<5|t>>>27)+r|0)&i|r&~i)+n[2]-51403784|0)<<9|o>>>23)+t|0)&r|t&~r)+n[7]+1735328473|0)<<14|i>>>18)+o|0)&t|o&~t)+n[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r^i^o)+n[5]-378558|0)<<4|t>>>28)+r|0)^r^i)+n[8]-2022574463|0)<<11|o>>>21)+t|0)^t^r)+n[11]+1839030562|0)<<16|i>>>16)+o|0)^o^t)+n[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r^i^o)+n[1]-1530992060|0)<<4|t>>>28)+r|0)^r^i)+n[4]+1272893353|0)<<11|o>>>21)+t|0)^t^r)+n[7]-155497632|0)<<16|i>>>16)+o|0)^o^t)+n[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r^i^o)+n[13]+681279174|0)<<4|t>>>28)+r|0)^r^i)+n[0]-358537222|0)<<11|o>>>21)+t|0)^t^r)+n[3]-722521979|0)<<16|i>>>16)+o|0)^o^t)+n[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((t=((t+=(r^i^o)+n[9]-640364487|0)<<4|t>>>28)+r|0)^r^i)+n[12]-421815835|0)<<11|o>>>21)+t|0)^t^r)+n[15]+530742520|0)<<16|i>>>16)+o|0)^o^t)+n[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((t=((t+=(i^(r|~o))+n[0]-198630844|0)<<6|t>>>26)+r|0)|~i))+n[7]+1126891415|0)<<10|o>>>22)+t|0)^((i=((i+=(t^(o|~r))+n[14]-1416354905|0)<<15|i>>>17)+o|0)|~t))+n[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((t=((t+=(i^(r|~o))+n[12]+1700485571|0)<<6|t>>>26)+r|0)|~i))+n[3]-1894986606|0)<<10|o>>>22)+t|0)^((i=((i+=(t^(o|~r))+n[10]-1051523|0)<<15|i>>>17)+o|0)|~t))+n[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((t=((t+=(i^(r|~o))+n[8]+1873313359|0)<<6|t>>>26)+r|0)|~i))+n[15]-30611744|0)<<10|o>>>22)+t|0)^((i=((i+=(t^(o|~r))+n[6]-1560198380|0)<<15|i>>>17)+o|0)|~t))+n[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((t=((t+=(i^(r|~o))+n[4]-145523070|0)<<6|t>>>26)+r|0)|~i))+n[11]-1120210379|0)<<10|o>>>22)+t|0)^((i=((i+=(t^(o|~r))+n[2]+718787259|0)<<15|i>>>17)+o|0)|~t))+n[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=t+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function i(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);return t}function o(e){var n,i,o,u,s,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(f,r(e.substring(n-64,n)));for(i=(e=e.substring(n-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(f,o),n=0;n<16;n+=1)o[n]=0;return u=(u=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(u[2],16),a=parseInt(u[1],16)||0,o[14]=s,o[15]=a,t(f,o),f}function u(e){var t,r="";for(t=0;t<4;t+=1)r+=n[e>>8*t+4&15]+n[e>>8*t&15];return r}function s(e){var n;for(n=0;n<e.length;n+=1)e[n]=u(e[n]);return e.join("")}function a(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var n,t=[],r=e.length;for(n=0;n<r-1;n+=2)t.push(parseInt(e.substr(n,2),16));return String.fromCharCode.apply(String,t)}function f(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function n(e,n){return(e=0|e||0)<0?Math.max(e+n,0):Math.min(e,n)}ArrayBuffer.prototype.slice=function(t,r){var i,o,u,s,a=this.byteLength,c=n(t,a),f=a;return r!==e&&(f=n(r,a)),c>f?new ArrayBuffer(0):(i=f-c,o=new ArrayBuffer(i),u=new Uint8Array(o),s=new Uint8Array(this,c,i),u.set(s),o)}}(),f.prototype.append=function(e){return this.appendBinary(a(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var n,i=this._buff.length;for(n=64;n<=i;n+=64)t(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},f.prototype.end=function(e){var n,t,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<i;n+=1)o[n>>2]|=r.charCodeAt(n)<<(n%4<<3);return this._finish(o,i),t=s(this._hash),e&&(t=c(t)),this.reset(),t},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,n){var r,i,o,u=n;if(e[u>>2]|=128<<(u%4<<3),u>55)for(t(this._hash,e),u=0;u<16;u+=1)e[u]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,t(this._hash,e)},f.hash=function(e,n){return f.hashBinary(a(e),n)},f.hashBinary=function(e,n){var t=s(o(e));return n?c(t):t},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var n,r,o,u,s,a=(r=this._buff.buffer,o=e,u=!0,(s=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(o),r.byteLength),u?s:s.buffer),c=a.length;for(this._length+=e.byteLength,n=64;n<=c;n+=64)t(this._hash,i(a.subarray(n-64,n)));return this._buff=n-64<c?new Uint8Array(a.buffer.slice(n-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var n,t,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<i;n+=1)o[n>>2]|=r[n]<<(n%4<<3);return this._finish(o,i),t=s(this._hash),e&&(t=c(t)),this.reset(),t},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e,n=f.prototype.getState.call(this);return n.buff=(e=n.buff,String.fromCharCode.apply(null,new Uint8Array(e))),n},f.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,n){var t,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(t=0;t<r;t+=1)o[t]=e.charCodeAt(t);return n?o:i}(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,n){var r=s(function(e){var n,r,o,u,s,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(f,i(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),r=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<r;n+=1)o[n>>2]|=e[n]<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(f,o),n=0;n<16;n+=1)o[n]=0;return u=(u=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(u[2],16),a=parseInt(u[1],16)||0,o[14]=s,o[15]=a,t(f,o),f}(new Uint8Array(e)));return n?c(r):r},f}()},29:function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},3:function(e,n){"function"==typeof Object.create?e.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,n){if(n){e.super_=n;var t=function(){};t.prototype=n.prototype,e.prototype=new t,e.prototype.constructor=e}}},36:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o}));t(47);var r=t(22),i=t.n(r);e.setImmediate||e.setTimeout;function o(e){return i.a.hash(e)}}).call(this,t(29))},47:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return s}));var r=function(e){return btoa(e)};function i(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),i=0;i<n;i++)r[i]=e.charCodeAt(i);return t}function o(e,n){return function(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(i){if("TypeError"!==i.name)throw i;for(var t=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)t.append(e[r]);return t.getBlob(n.type)}}([i(e)],{type:n})}function u(e,n){return o(atob(e),n)}function s(e,n){var t=new FileReader;t.onloadend=function(e){var t=e.target.result||new ArrayBuffer(0);n(t)},t.readAsArrayBuffer(e)}},78:function(e,n,t){var r=t(150),i=t(151),o=i;o.v1=r,o.v4=i,e.exports=o},79:function(e,n,t){"use strict";function r(e,n,t){var r=t[t.length-1];e===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===n.length-2){i[n.pop()]=e}else n.push(e)}n.stringify=function(e){var n=[];n.push({obj:e});for(var t,r,i,o,u,s,a,c,f,l,d="";t=n.pop();)if(r=t.obj,d+=t.prefix||"",i=t.val||"")d+=i;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(n.push({val:"]"}),o=r.length-1;o>=0;o--)u=0===o?"":",",n.push({obj:r[o],prefix:u});n.push({val:"["})}else{for(a in s=[],r)r.hasOwnProperty(a)&&s.push(a);for(n.push({val:"}"}),o=s.length-1;o>=0;o--)f=r[c=s[o]],l=o>0?",":"",l+=JSON.stringify(c)+":",n.push({obj:f,prefix:l});n.push({val:"{"})}return d},n.parse=function(e){for(var n,t,i,o,u,s,a,c,f,l=[],d=[],h=0;;)if("}"!==(n=e[h++])&&"]"!==n&&void 0!==n)switch(n){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,l,d);break;case"t":h+=3,r(!0,l,d);break;case"f":h+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(t="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}t+=i}r(parseFloat(t),l,d);break;case'"':for(o="",u=void 0,s=0;'"'!==(a=e[h++])||"\\"===u&&s%2==1;)o+=a,"\\"===(u=a)?s++:s=0;r(JSON.parse('"'+o+'"'),l,d);break;case"[":c={element:[],index:l.length},l.push(c.element),d.push(c);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+n)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},80:function(e,n,t){var r=t(152),i=t(153),o=i;o.v1=r,o.v4=i,e.exports=o}}]);